snippet args	"Passing arguments"
function usage() {
	echo "Usage: \$0 ${2:...}"
	echo "Desc: ${1:desc}"
}

while [[ $# -gt 0 ]];
do
	case "\$1" in
		--infile | -i)
			inf=\$2; shift 2;;
		${0:--}
		--help | -h)
			usage; exit 0 ;;
		* )
			usage; exit 1;;
	esac
done
[[ "${inf}" ]]  || { usage; exit 1; }
[[	-f "${inf}" ]] || { echo "${inf}: No such file"; exit 1; }

endsnippet
